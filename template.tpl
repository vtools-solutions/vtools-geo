___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Vtools Geo Location",
"categories": ["UTILITY","ATTRIBUTION"],
  "brand": {
    "id": "brand_dummy",
    "displayName": "Vtools",
    "thumbnail": "data:image/png;base64,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\u003d"
  },
  "description": "A Tag Vtools Geo, auxilia o gerenciador do Gtm na implementação de uma nova DataLayer com dados de dispositivo e IP do Usuário, de forma simples e inteligente.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "apiKey",
    "displayName": "Chave Vtools",
    "simpleValueType": true,
    "notSetText": "É necessário informar uma chave de apykey.",
    "help": "Caso não tenha uma chave de APIKEY, você pode gerar facilmente em https://vtools.com.br"
  },
  {
    "type": "CHECKBOX",
    "name": "intelligence",
    "checkboxText": "Ativar Inteligência",
    "simpleValueType": true,
    "help": "Marque este item para um melhor carregamento e Inteligência nas marcações."
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// APIs
const injectScript = require('injectScript');
const copyFromWindow = require('copyFromWindow');
const createQueue = require('createQueue');
//const log = require('logToConsole');

// Utilities
const geoUrl = 'https://ip.vtools.com.br/api.js';

const error = msg => {
 // log(msg);
  data.gtmOnFailure();
};

const handleResponse = resp => {
  
  const dataLayerPush = createQueue('dataLayer');

  dataLayerPush({
    event: 'vtoolsGeo',
    browser: resp.browser,
    city: resp.city,
    country: resp.country,
    country_name: resp.country_name,
    device: resp.device,
    family: resp.family,
    ip: resp.ip,
    ipv6: resp.ipv6,
    latitude: resp.latitude,
    longitude: resp.longitude,
    major: resp.major,
    minor: resp.minor,
    os: resp.os,
    osName: resp.osName,
    osVersion: resp.osVersion,
    patch: resp.patch,
    postal: resp.postal,
    source: resp.source,
    state: resp.state,
    state_name: resp.state_name,
    expiration: resp.expiration,
    domain: resp.domain
   
  });
  
 // log('debug load');
  
 data.gtmOnSuccess();
};


const geolocate = () => {
  const geo = copyFromWindow('geoLocation');    
  geo.getGeolocation(handleResponse, data.apiKey);
};

injectScript(geoUrl, geolocate, error, 'geolocate');


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "geoLocation"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataLayer"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://ip.vtools.com.br/api.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 02/11/2023, 18:25:37


